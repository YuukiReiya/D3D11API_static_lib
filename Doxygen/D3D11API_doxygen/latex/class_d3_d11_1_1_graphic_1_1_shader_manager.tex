\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager}{}\section{Shader\+Manager クラス}
\label{class_d3_d11_1_1_graphic_1_1_shader_manager}\index{Shader\+Manager@{Shader\+Manager}}


シェーダー管理クラス  シェーダーを作成せずとも描画出来るデフォルトシェーダーを用意する  




{\ttfamily \#include $<$Shader\+Manager.\+h$>$}

Shader\+Manager の継承関係図\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_d3_d11_1_1_graphic_1_1_shader_manager}
\end{center}
\end{figure}
\subsection*{公開メンバ関数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_ade88b9cd89dfb4eb95b0cb874bf7168b}{$\sim$\+Shader\+Manager} ()\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_ade88b9cd89dfb4eb95b0cb874bf7168b}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_ade88b9cd89dfb4eb95b0cb874bf7168b}

\begin{DoxyCompactList}\small\item\em デストラクタ \end{DoxyCompactList}\item 
H\+R\+E\+S\+U\+LT \hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_ab30239875f87b8ad6c72cbc7eec479d4}{Add\+New\+Shader\+Data} (std\+::string sz\+Key\+Name, \hyperlink{struct_d3_d11_1_1_graphic_1_1_shader_data}{Shader\+Data} $\ast$p\+New\+Shader\+Data)
\item 
H\+R\+E\+S\+U\+LT \hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_a206789dcc6ac911b3169d0dd706bfee6}{Initialize} (std\+::string directory\+Path=\char`\"{}\char`\"{})
\item 
void {\bfseries Finalize} ()\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_a8fee61d7a783cade1a3d07fe86284d27}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_a8fee61d7a783cade1a3d07fe86284d27}

\item 
H\+R\+E\+S\+U\+LT \hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_a5b52aad68e2e1517b8d6e74905d5d2f2}{Make\+Shader} (std\+::string sz\+File\+Name, std\+::string sz\+Func\+Name, std\+::string sz\+Profile\+Name, void $\ast$$\ast$pp\+Shader, I\+D3\+D\+Blob $\ast$$\ast$pp\+Blob)
\item 
\hyperlink{struct_d3_d11_1_1_graphic_1_1_shader_data}{Shader\+Data} $\ast$ \hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_af58328bedb1bcde75d4beed5cdb431c1}{Get\+Shader\+Data} (std\+::string sz\+Key\+Name)\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_af58328bedb1bcde75d4beed5cdb431c1}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_af58328bedb1bcde75d4beed5cdb431c1}

\begin{DoxyCompactList}\small\item\em キー(文字列)から登録済みのシェーダー情報を取得する  探索文字列から情報を取得することに失敗した場合\+N\+U\+L\+Lを返す \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{静的公開変数類}
\begin{DoxyCompactItemize}
\item 
static const std\+::string \hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_a40c965cdd249ce2492b6f554987c9c71}{c\+\_\+sz\+Simple\+Texture\+Shader} = \char`\"{}S\+I\+M\+P\+L\+E\+\_\+\+T\+E\+X\+T\+U\+RE\char`\"{}
\begin{DoxyCompactList}\small\item\em 通常テクスチャで使うシェーダーのハッシュ  unordered\+\_\+mapに追加したシェーダーデータの参照用のハッシュ \end{DoxyCompactList}\item 
static const std\+::string \hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_af418a1f0ddd33cf8dd7765f88c05aa3b}{c\+\_\+sz\+Texture\+Atlas\+Shader} = \char`\"{}A\+T\+L\+A\+S\+\_\+\+T\+E\+X\+T\+U\+RE\char`\"{}
\begin{DoxyCompactList}\small\item\em アトラステクスチャで使うシェーダーのハッシュ  unordered\+\_\+mapに追加したシェーダーデータの参照用のハッシュ \end{DoxyCompactList}\item 
static const std\+::string \hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_ad1607cbc05176bb70e3699dd651b4674}{c\+\_\+\+Default\+Mesh\+Shader} = \char`\"{}M\+E\+S\+H\+\_\+\+D\+E\+F\+A\+U\+LT\char`\"{}
\begin{DoxyCompactList}\small\item\em デフォルト設定のメッシュで使うシェーダーのハッシュ  unordered\+\_\+mapに追加したシェーダーデータの参照用のハッシュ \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{非公開メンバ関数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_a2dbca1784769d0a8bdfdd0c86a85464b}{Shader\+Manager} ()\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_a2dbca1784769d0a8bdfdd0c86a85464b}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_a2dbca1784769d0a8bdfdd0c86a85464b}

\begin{DoxyCompactList}\small\item\em コンストラクタ \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{非公開変数類}
\begin{DoxyCompactItemize}
\item 
std\+::string \hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_a6db27edfd24d67c38ce9d0d3d3903c97}{m\+\_\+\+Directory\+Path}\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_a6db27edfd24d67c38ce9d0d3d3903c97}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_a6db27edfd24d67c38ce9d0d3d3903c97}

\begin{DoxyCompactList}\small\item\em シェーダー(.hlsl)が含まれているディレクトリのパス  Make\+Shaderはこのパス+ファイルの名前のパスに存在する\+H\+L\+S\+Lファイルでシェーダーの作成を行う \end{DoxyCompactList}\item 
\hyperlink{struct_d3_d11_1_1_graphic_1_1_shader_data}{Shader\+Data} $\ast$ \hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_a0ea8d31a9751d1cae5e578665a53868f}{m\+\_\+p\+Add\+Data\+Ref}\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_a0ea8d31a9751d1cae5e578665a53868f}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_a0ea8d31a9751d1cae5e578665a53868f}

\begin{DoxyCompactList}\small\item\em データ追加用の参照メンバ \end{DoxyCompactList}\item 
std\+::unordered\+\_\+map$<$ std\+::string, \hyperlink{struct_d3_d11_1_1_graphic_1_1_shader_data}{Shader\+Data} $\ast$ $>$ \hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_a4fe3ad1dce5bc1d7d5169ebb4e6bb975}{m\+\_\+p\+Shader\+Data\+U\+Map}\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_a4fe3ad1dce5bc1d7d5169ebb4e6bb975}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_a4fe3ad1dce5bc1d7d5169ebb4e6bb975}

\begin{DoxyCompactList}\small\item\em シェーダーデータの連想配列 \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{フレンド}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{class_d3_d11_1_1_graphic_1_1_shader_manager_af5133f3fc6a5b6505ff2999082634c07}{Singleton$<$ Shader\+Manager $>$}\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_af5133f3fc6a5b6505ff2999082634c07}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_af5133f3fc6a5b6505ff2999082634c07}

\begin{DoxyCompactList}\small\item\em シングルトンデザインパターンのテンプレート継承 \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{その他の継承メンバ}


\subsection{詳解}
シェーダー管理クラス  シェーダーを作成せずとも描画出来るデフォルトシェーダーを用意する 

\subsection{関数詳解}
\index{D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}!Add\+New\+Shader\+Data@{Add\+New\+Shader\+Data}}
\index{Add\+New\+Shader\+Data@{Add\+New\+Shader\+Data}!D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}}
\subsubsection[{\texorpdfstring{Add\+New\+Shader\+Data(std\+::string sz\+Key\+Name, Shader\+Data $\ast$p\+New\+Shader\+Data)}{AddNewShaderData(std::string szKeyName, ShaderData *pNewShaderData)}}]{\setlength{\rightskip}{0pt plus 5cm}H\+R\+E\+S\+U\+LT Add\+New\+Shader\+Data (
\begin{DoxyParamCaption}
\item[{std\+::string}]{sz\+Key\+Name, }
\item[{{\bf Shader\+Data} $\ast$}]{p\+New\+Shader\+Data}
\end{DoxyParamCaption}
)}\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_ab30239875f87b8ad6c72cbc7eec479d4}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_ab30239875f87b8ad6c72cbc7eec479d4}
登録可能か判定

登録しようとしたキー名は既に登録済みのため追加しない

キー名でリスト(map)に追加 \index{D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}}
\subsubsection[{\texorpdfstring{Initialize(std\+::string directory\+Path="""")}{Initialize(std::string directoryPath="")}}]{\setlength{\rightskip}{0pt plus 5cm}H\+R\+E\+S\+U\+LT Initialize (
\begin{DoxyParamCaption}
\item[{std\+::string}]{directory\+Path = {\ttfamily \char`\"{}\char`\"{}}}
\end{DoxyParamCaption}
)}\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_a206789dcc6ac911b3169d0dd706bfee6}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_a206789dcc6ac911b3169d0dd706bfee6}
$<$ コンパイル用ブロブ

リソースデイレクトリーの設定

単純テクスチャのシェーダー設定作成

バーテックスシェーダーの作成

頂点インプットレイアウト定義

$<$ ポインタ

頂点インプットレイアウトを作成

ピクセルシェーダーの作成

コンスタントバッファ定義

コンスタントバッファ作成

アトラステクスチャのシェーダー設定作成

・インプットレイアウト ・頂点シェーダー ・ピクセルシェーダー この三つは単純なテクスチャの\+Shaderと同じものを使う

インプットレイアウト

頂点シェーダー

ピクセルシェーダー

コンスタントバッファ定義

コンスタントバッファ作成

ブロブの解放

メッシュ用のデフォルト設定 \index{D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}!Make\+Shader@{Make\+Shader}}
\index{Make\+Shader@{Make\+Shader}!D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}}
\subsubsection[{\texorpdfstring{Make\+Shader(std\+::string sz\+File\+Name, std\+::string sz\+Func\+Name, std\+::string sz\+Profile\+Name, void $\ast$$\ast$pp\+Shader, I\+D3\+D\+Blob $\ast$$\ast$pp\+Blob)}{MakeShader(std::string szFileName, std::string szFuncName, std::string szProfileName, void **ppShader, ID3DBlob **ppBlob)}}]{\setlength{\rightskip}{0pt plus 5cm}H\+R\+E\+S\+U\+LT Make\+Shader (
\begin{DoxyParamCaption}
\item[{std\+::string}]{sz\+File\+Name, }
\item[{std\+::string}]{sz\+Func\+Name, }
\item[{std\+::string}]{sz\+Profile\+Name, }
\item[{void $\ast$$\ast$}]{pp\+Shader, }
\item[{I\+D3\+D\+Blob $\ast$$\ast$}]{pp\+Blob}
\end{DoxyParamCaption}
)}\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_a5b52aad68e2e1517b8d6e74905d5d2f2}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_a5b52aad68e2e1517b8d6e74905d5d2f2}
U\+N\+I\+C\+O\+D\+E、マルチバイト両対応用文字列変換

D3\+D11\+Compile\+From\+Fileの引数はマルチバイト

ブロブのコンパイル

終端文字を含まないバッファのメモリを変数にコピー

$<$ 終端文字のバッファーを一つ確保しておく

頂点シェーダー(\+Vertex Shader)

ピクセルシェーダー(\+Pixel Shader)

ジオメトリシェーダー(\+Geometry Shader)

ハルシェーダー(\+Hull Shader)

ドメインシェーダー(\+Domain Shader)

コンピュートシェーダー(\+Compute Shader) 

\subsection{メンバ詳解}
\index{D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}!c\+\_\+\+Default\+Mesh\+Shader@{c\+\_\+\+Default\+Mesh\+Shader}}
\index{c\+\_\+\+Default\+Mesh\+Shader@{c\+\_\+\+Default\+Mesh\+Shader}!D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}}
\subsubsection[{\texorpdfstring{c\+\_\+\+Default\+Mesh\+Shader}{c_DefaultMeshShader}}]{\setlength{\rightskip}{0pt plus 5cm}c\+\_\+\+Default\+Mesh\+Shader = \char`\"{}M\+E\+S\+H\+\_\+\+D\+E\+F\+A\+U\+LT\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_ad1607cbc05176bb70e3699dd651b4674}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_ad1607cbc05176bb70e3699dd651b4674}


デフォルト設定のメッシュで使うシェーダーのハッシュ  unordered\+\_\+mapに追加したシェーダーデータの参照用のハッシュ 

メッシュシェーダーのデフォルト設定 \index{D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}!c\+\_\+sz\+Simple\+Texture\+Shader@{c\+\_\+sz\+Simple\+Texture\+Shader}}
\index{c\+\_\+sz\+Simple\+Texture\+Shader@{c\+\_\+sz\+Simple\+Texture\+Shader}!D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}}
\subsubsection[{\texorpdfstring{c\+\_\+sz\+Simple\+Texture\+Shader}{c_szSimpleTextureShader}}]{\setlength{\rightskip}{0pt plus 5cm}c\+\_\+sz\+Simple\+Texture\+Shader = \char`\"{}S\+I\+M\+P\+L\+E\+\_\+\+T\+E\+X\+T\+U\+RE\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_a40c965cdd249ce2492b6f554987c9c71}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_a40c965cdd249ce2492b6f554987c9c71}


通常テクスチャで使うシェーダーのハッシュ  unordered\+\_\+mapに追加したシェーダーデータの参照用のハッシュ 

シンプルテクスチャのシェーダー \index{D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}!c\+\_\+sz\+Texture\+Atlas\+Shader@{c\+\_\+sz\+Texture\+Atlas\+Shader}}
\index{c\+\_\+sz\+Texture\+Atlas\+Shader@{c\+\_\+sz\+Texture\+Atlas\+Shader}!D3\+D11\+::\+Graphic\+::\+Shader\+Manager@{D3\+D11\+::\+Graphic\+::\+Shader\+Manager}}
\subsubsection[{\texorpdfstring{c\+\_\+sz\+Texture\+Atlas\+Shader}{c_szTextureAtlasShader}}]{\setlength{\rightskip}{0pt plus 5cm}c\+\_\+sz\+Texture\+Atlas\+Shader = \char`\"{}A\+T\+L\+A\+S\+\_\+\+T\+E\+X\+T\+U\+RE\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_d3_d11_1_1_graphic_1_1_shader_manager_af418a1f0ddd33cf8dd7765f88c05aa3b}{}\label{class_d3_d11_1_1_graphic_1_1_shader_manager_af418a1f0ddd33cf8dd7765f88c05aa3b}


アトラステクスチャで使うシェーダーのハッシュ  unordered\+\_\+mapに追加したシェーダーデータの参照用のハッシュ 

アトラステクスチャのシェーダー 

このクラス詳解は次のファイルから抽出されました\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/yuuki/\+Desktop/\+Doxygen\+\_\+lib\+\_\+source/include/Shader\+Manager.\+h\item 
C\+:/\+Users/yuuki/\+Desktop/\+Doxygen\+\_\+lib\+\_\+source/include/Shader\+Manager.\+cpp\end{DoxyCompactItemize}
